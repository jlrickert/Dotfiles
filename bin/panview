#!/bin/sh
CSS="https://jlrickert.me/mirror/css/tufte.css"
CSL="/home/raviko/Documents/csl/chicago-note-bibliography.csl"
BIB="/home/raviko/Documents/bibliography.bib"
PANDOC_HTML_OPTS="--standalone --toc --filter=pandoc-citeproc --csl=$CSL --bibliography=$BIB --mathjax --smart --css=$CSS"
TMP_DIR="/tmp/$USER"

if [ -x "$(command -v pandoc)" ]; then
    for md_file in "$@"; do
        html_file=`echo $md_file | sed -e 's/md$/html/'`
        pandoc $PANDOC_HTML_OPTS -o $TMP_DIR/$html_file $md_file
        firefox $TMP_DIR/$html_file
    done
fi
